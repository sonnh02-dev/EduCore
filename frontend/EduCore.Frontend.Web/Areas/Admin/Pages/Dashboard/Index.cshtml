@page "/Admin"
@model EduCore.Frontend.Web.Areas.Admin.Pages.Dashboard.IndexModel
@{
    Layout = "../Shared/Layouts/Admin/_Layout.cshtml";

}
<!doctype html>
<html lang="en">



<body>



    <div class="">
        <!-- ============================================================== -->
        <!-- pageheader  -->
        <!-- ============================================================== -->
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <div class="page-header">
                    <h2 class="pageheader-title">Course Web Dashboard  </h2>
                    <p class="pageheader-text">
                        Nulla euismod urna eros, sit amet scelerisque torton lectus vel mauris
                        facilisis faucibus at enim quis massa lobortis rutrum.
                    </p>
                    <div class="page-breadcrumb">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#" class="breadcrumb-link">Dashboard</a></li>
                                <li class="breadcrumb-item active" aria-current="page">
                                    E-Commerce Dashboard Template
                                </li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <!-- ============================================================== -->
        <!-- end pageheader  -->
        <!-- ============================================================== -->
        <div class="ecommerce-widget">

            <div class="row">
                @{
                    decimal? currentMonthRevenue = Model.MonthlyRevenueOfCurrentYear?.FirstOrDefault(r => r.Month == DateTime.Now.Month)?.Amount;
                    decimal? previousMonthRevenue = Model.MonthlyRevenueOfPreviousYear?.FirstOrDefault(r => r.Month == DateTime.Now.Month - 1)?.Amount;

                    decimal percentageIncreaseMonth = 0;

                    if (currentMonthRevenue.HasValue && previousMonthRevenue.HasValue && previousMonthRevenue > 0)
                    {
                        percentageIncreaseMonth = ((currentMonthRevenue.Value - previousMonthRevenue.Value) / previousMonthRevenue.Value) * 100;
                    }
                    else
                    {
                        percentageIncreaseMonth = 0;
                    }

                }
                <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="text-muted">Total Revenue Of Current Month</h5>
                            <div class="metric-value d-inline-block">
                                <h1 class="mb-1 ">@currentMonthRevenue.GetValueOrDefault().ToString("N0") Vnd</h1>
                            </div>

                            <div class="metric-label d-inline-block float-right font-weight-bold @(percentageIncreaseMonth >= 0 ? "text-success" : "text-danger")">
                                <span>
                                    <i class="fa fa-fw @(percentageIncreaseMonth >= 0 ? "fa-caret-up" : "fa-caret-down")"></i>
                                </span>
                                <span>@percentageIncreaseMonth.ToString("0.00")%</span>
                            </div>

                        </div>
                        <div id="sparkline-revenue"></div>
                    </div>
                </div>





                <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="card">
                        @* <div class="card-body"> *@
                        @*     <h5 class="text-muted">Current month enrolled student</h5> *@
                        @*     @{ *@
                        @*         int currentMonthEnrollment = Model.EnrollmentList.Where(en=>en.EnrollmentDate.Value.Month==DateTime.Now.Month) *@
                        @*        .GroupBy(en=>en.StudentId) *@
                        @*         .Count(); *@

                        @*         int previousMonthEnrollment = Model.EnrollmentList.Where(en => en.EnrollmentDate.Value.Month == DateTime.Now.Month-1) *@
                        @*        .GroupBy(en => en.StudentId) *@
                        @*         .Count(); *@

                        @*         int enrollmentTotal = Model.EnrollmentList.GroupBy(en => en.StudentId).Count(); *@

                        @*         double percentageIncrease = previousMonthEnrollment > 0 *@
                        @*         ? ((double)(currentMonthEnrollment - previousMonthEnrollment) / previousMonthEnrollment) * 100 *@
                        @*         : 0; *@
                        @*     } *@
                        @*     <div class="metric-value d-inline-block"> *@
                        @*         <h1 class="mb-1 text-primary"> *@
                        @*             @currentMonthEnrollment/@enrollmentTotal <span>student</span> *@
                        @*         </h1> *@
                        @*     </div> *@

                        @*     <div class="metric-label d-inline-block float-right @(percentageIncrease >= 0 ? "text-success" : "text-danger")"> *@
                        @*         <i class="fa fa-fw @(percentageIncrease >= 0 ? "fa-caret-up" : "fa-caret-down")"></i> *@
                        @*         <span>@percentageIncrease.ToString("0.00")%</span> *@
                        @*     </div> *@

                        @* </div> *@
                        <div id="sparkline-revenue2"></div>
                    </div>
                </div>


                <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="text-muted">Refunds</h5>
                            <div class="metric-value d-inline-block">
                                <h1 class="mb-1">0.00</h1>
                            </div>
                            <div class="metric-label d-inline-block float-right text-primary font-weight-bold">
                                <span>N/A</span>
                            </div>
                        </div>
                        <div id="sparkline-revenue3"></div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="card">
                        @* <div class="card-body"> *@
                        @*     <h5 class="text-muted">Avg. Revenue Per Student</h5> *@
                        @*     <div class="metric-value d-inline-block"> *@
                        @*         @{ *@
                        @*             var currentMonthEnrollments = Model.EnrollmentList.Where(en => en.EnrollmentDate.Value.Month == DateTime.Now.Month); *@
                        @*             var currentTotalRevenue = currentMonthEnrollments.Sum(en => en.CoursePrice - (en.CoursePrice * en.CourseSale / 100)); *@
                        @*             var currentMonthStudentCount = currentMonthEnrollments.GroupBy(en => en.StudentId).Count(); *@
                        @*             var avgRevenueCurrentMonth = currentMonthStudentCount > 0 ? currentTotalRevenue / currentMonthStudentCount : 0; *@

                        @*             var previousMonthEnrollments = Model.EnrollmentList.Where(en => en.EnrollmentDate.Value.Month == DateTime.Now.Month-1); *@
                        @*             var previousTotalRevenue = previousMonthEnrollments.Sum(en => en.CoursePrice - (en.CoursePrice * en.CourseSale / 100)); *@
                        @*             var previousMonthStudentCount = previousMonthEnrollments.GroupBy(en => en.StudentId).Count(); *@

                        @*             var avgRevenuePreviousMonth = previousMonthStudentCount > 0 ? previousTotalRevenue / previousMonthStudentCount : 0; *@

                        @*             var percentageChange = avgRevenuePreviousMonth > 0 *@
                        @*             ? ((avgRevenueCurrentMonth - avgRevenuePreviousMonth) / avgRevenuePreviousMonth) * 100 *@
                        @*             : 0; *@
                        @*         } *@
                        @*         <h1 class="mb-1"> *@
                        @*             @avgRevenueCurrentMonth.ToString("N0") Vnd *@
                        @*         </h1> *@
                        @*     </div> *@
                        @*     <div class="metric-label d-inline-block float-right text-secondary font-weight-bold"> *@
                        @*         <span>@percentageChange.ToString("0.00")%</span>  *@
                        @*     </div> *@
                        @* </div> *@
                        <div id="sparkline-revenue4"></div>
                    </div>
                </div>

            </div>
            <div class="row">
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- recent orders  -->
                <!-- ============================================================== -->
                <div class="col-xl-12 col-lg-12 col-md-6 col-sm-12 col-12">
                    <div class="card">
                        <h5 class="card-header">Top 3 student hightest tuition fee </h5>
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>

                                            <th>StudentId</th>
                                            <th>Student Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Password</th>
                                            <th>Bio</th>
                                            <th>Number enrolled course</th>
                                            <th>Tuition fee</th>
                                            <th>Status </th>
                                            <th> </th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                    @*     @foreach (StudentDTO teacher in Model.Students.OrderByDescending(st => st.TuitionFee).Take(3)) *@
                                    @*     { *@
                                    @*         <tr> *@
                                    @*             <td>@teacher.UserId</td> *@
                                    @*             <td>@teacher.FullName</td> *@
                                    @*             <td>@teacher.Email</td> *@
                                    @*             <td>@teacher.Phone</td> *@
                                    @*             <td>@teacher.Password</td> *@
                                    @*             <td>@teacher.Bio</td> *@
                                    @*             <td> *@
                                    @*                 @teacher.NumberEnrolledCourses *@
                                    @*             </td> *@
                                    @*             <td>@teacher.TuitionFee.ToString("N0")</td> *@



                                    @*             <td class="my-2"> *@
                                    @*                 <span class="@(teacher.IsActive?"text-success":"text-danger")">@((teacher.IsActive) ? "Active" : "Disactive")</span> *@
                                    @*                 <a id="set_status_instructor" *@
                                    @*                    date-instructor-id="@teacher.UserId" *@
                                    @*                    data-is-active="@teacher.IsActive" *@
                                    @*                    href="/Teacher/List?InstructorId=@teacher.UserId&IsActive=@teacher.IsActive" *@
                                    @*                    class="btn btn-sm btn-primary"> *@
                                    @*                     Toggle *@
                                    @*                 </a> *@
                                    @*             </td> *@
                                    @*             <td><a href="/Teacher/Detail?instructorId=@teacher.UserId">Detail</a></td> *@
                                    @*             <td><a href="./">Delete</a></td> *@

                                    @*         </tr> *@

                                    @*     } *@
                                    @* </tbody> *@
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h5 class="card-header">Top 3 teacher hightest revenue in current month </h5>
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>

                                            <th>InstructorId</th>
                                            <th>Instructor Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Password</th>
                                            <th>Bio</th>
                                            <th>Rating</th>
                                            <th>Numer student enroll</th>
                                            <th>Numer course</th>
                                            <th>Specialize </th>
                                            <th>Current month revenue </th>
                                            <th>Status </th>
                                            <th> </th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    @*     @foreach (InstructorViewModel teacher in Model.Instructors.OrderByDescending(te => te.CurrentMonthRevenue).Take(3)) *@
                                    @*     { *@
                                    @*         <tr> *@
                                    @*             <td>@teacher.UserId</td> *@
                                    @*             <td>@teacher.FullName</td> *@
                                    @*             <td>@teacher.Email</td> *@
                                    @*             <td>@teacher.Phone</td> *@
                                    @*             <td>@teacher.Password</td> *@
                                    @*             <td>@teacher.Bio</td> *@
                                    @*             <td class="w-auto"> *@
                                    @*                 @teacher.Rating <span style="font-size: 14px;">⭐</span> *@
                                    @*             </td> *@
                                    @*             <td>@teacher.NumberStudent</td> *@
                                    @*             <td>@teacher.NumberCourse</td> *@
                                    @*             <td> *@
                                    @*                 @foreach (var subCate in teacher.SubCategoryDetails) *@
                                    @*                 { *@
                                    @*                     <span>@subCate.SubCategoryName</span> *@

                                    @*                     <br /> *@
                                    @*                 } *@
                                    @*             </td> *@
                                    @*             <td>@teacher.CurrentMonthRevenue.GetValueOrDefault().ToString("N0") Vnd</td> *@


                                    @*             <td class="my-2"> *@
                                    @*                 <span class="@(teacher.IsActive?"text-success":"text-danger")">@((teacher.IsActive) ? "Active" : "Disactive")</span> *@
                                    @*                 <a id="set_status_instructor" *@
                                    @*                    date-instructor-id="@teacher.UserId" *@
                                    @*                    data-is-active="@teacher.IsActive" *@
                                    @*                    href="./Admin/Teacher/List?InstructorId=@teacher.UserId&IsActive=@teacher.IsActive" *@
                                    @*                    class="btn btn-sm btn-primary"> *@
                                    @*                     Toggle *@
                                    @*                 </a> *@
                                    @*             </td> *@
                                    @*             <td><a href="/Teacher/Detail?instructorId=@teacher.UserId">Detail</a></td> *@
                                    @*             <td><a href="./">Delete</a></td> *@

                                    @*         </tr> *@

                                    @*     } *@
                                    @* </tbody> *@
                                </table>
                            </div>
                        </div>
                    </div>
                </div>






                <div class="card col-xl-12 col-lg-12 col-md-4 col-sm-12 col-12">
                    <h5 class="card-header">Monthly Revenue</h5>
                    <div class="card-body">
                        <canvas id="revenue_system" width="500" height="150"></canvas>
                    </div>
                @*     @if (Model.MonthlyRevenueOfCurrentYear?.Count() > 0 && Model.MonthlyRevenueOfPreviousYear?.Count > 0) *@
                @*     { *@

                @*         decimal? currentYearRevenue = Model.MonthlyRevenueOfCurrentYear?.Sum(r => r.Amount); *@
                @*         decimal? previousYearRevenue = Model.MonthlyRevenueOfPreviousYear?.Sum(r => r.Amount); *@

                @*         decimal percentageIncreaseYear = 0; *@
                @*         if (previousYearRevenue.HasValue && currentYearRevenue.HasValue) *@
                @*         { *@
                @*             percentageIncreaseYear = previousYearRevenue.Value > 0 *@
                @*             ? ((currentYearRevenue.Value - previousYearRevenue.Value) / previousYearRevenue.Value) * 100 *@
                @*             : 0; *@
                @*         } *@


                @*         <div class="card-body border-top"> *@
                @*             <div class="row"> *@
                @*                 <div class="offset-xl-1 col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12 p-3"> *@
                @*                     <h4> This Current  Month's Earning(@DateTime.Now.ToString("MM/yyyy")): @(Model.MonthlyRevenueOfCurrentYear?.FirstOrDefault(r => r.Month == DateTime.Now.Month).Amount.GetValueOrDefault().ToString("N0"))Vnd</h4> *@
                @*                 </div> *@

                @*                 <div class="offset-xl-1 col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12 p-3"> *@
                @*                     <h2 class="font-weight-normal mb-3"><span>@currentYearRevenue.GetValueOrDefault().ToString("N0") Vnd</span></h2> *@
                @*                     <div class="mb-0 mt-3 legend-item"> *@
                @*                         <span class="fa-xs text-primary mr-1 legend-title"><i class="fa fa-fw fa-square-full"></i></span> *@
                @*                         <span class="legend-text">Current Year(@DateTime.Now.Year)</span> *@

                @*                         <i class="fa fa-fw @(percentageIncreaseYear >= 0 ? "fa-caret-up" : "fa-caret-down")"></i> *@
                @*                         <span class="@(percentageIncreaseYear >= 0 ? "text-success" : "text-danger")"> @percentageIncreaseYear.ToString("0.00")%</span> *@

                @*                     </div> *@
                @*                 </div> *@
                @*                 <div class="offset-xl-1 col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12 p-3"> *@
                @*                     <h2 class="font-weight-normal mb-3"><span>@previousYearRevenue.GetValueOrDefault().ToString("N0") Vnd</span></h2> *@
                @*                     <div class="text-muted mb-0 mt-3 legend-item"> *@
                @*                         <span class="fa-xs text-secondary mr-1 legend-title"><i class="fa fa-fw fa-square-full"></i></span> *@
                @*                         <span class="legend-text">Previous Year(@(DateTime.Now.Year - 1))</span> *@
                @*                     </div> *@
                @*                 </div> *@
                @*             </div> *@
                @*         </div> *@
                @*     } *@
                @* </div> *@

                <!-- ============================================================== -->
                <!-- end customer acquistion  -->
                <!-- ============================================================== -->
            </div>
           @*  <div class="row">
                <!-- ============================================================== -->
                <!-- product category  -->
                <!-- ============================================================== -->
                <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="card">
                        <h5 class="card-header"> Product Category</h5>
                        <div class="card-body">
                            <div class="ct-chart-category ct-golden-section" style="height: 315px;"></div>
                            <div class="text-center m-t-40">
                                <span class="legend-item mr-3">
                                    <span class="fa-xs text-primary mr-1 legend-tile">
                                        <i class="fa fa-fw fa-square-full "></i>
                                    </span><span class="legend-text">Man</span>
                                </span>
                                <span class="legend-item mr-3">
                                    <span class="fa-xs text-secondary mr-1 legend-tile">
                                        <i class="fa fa-fw fa-square-full"></i>
                                    </span>
                                    <span class="legend-text">Woman</span>
                                </span>
                                <span class="legend-item mr-3">
                                    <span class="fa-xs text-info mr-1 legend-tile">
                                        <i class="fa fa-fw fa-square-full"></i>
                                    </span>
                                    <span class="legend-text">Accessories</span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end product category  -->
                <!-- product sales  -->
                <!-- ============================================================== -->
                <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-12">
                    <div class="card">
                        <div class="card-header">
                            <!-- <div class="float-right">
                                                <select class="custom-select">
                                                    <option selected>Today</option>
                                                    <option value="1">Weekly</option>
                                                    <option value="2">Monthly</option>
                                                    <option value="3">Yearly</option>
                                                </select>
                                            </div> -->
                            <h5 class="mb-0"> Product Sales</h5>
                        </div>
                        <div class="card-body">
                            <div class="ct-chart-product ct-golden-section"></div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end product sales  -->
                <!-- ============================================================== -->
                <div class="col-xl-3 col-lg-12 col-md-6 col-sm-12 col-12">
                    <!-- ============================================================== -->
                    <!-- top perfomimg  -->
                    <!-- ============================================================== -->
                    <div class="card">
                        <h5 class="card-header">Top Performing Campaigns</h5>
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table no-wrap p-table">
                                    <thead class="bg-light">
                                        <tr class="border-0">
                                            <th class="border-0">Campaign</th>
                                            <th class="border-0">Visits</th>
                                            <th class="border-0">Revenue</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Campaign#1</td>
                                            <td>98,789 </td>
                                            <td>$4563</td>
                                        </tr>
                                        <tr>
                                            <td>Campaign#2</td>
                                            <td>2,789 </td>
                                            <td>$325</td>
                                        </tr>
                                        <tr>
                                            <td>Campaign#3</td>
                                            <td>1,459 </td>
                                            <td>$225</td>
                                        </tr>
                                        <tr>
                                            <td>Campaign#4</td>
                                            <td>5,035 </td>
                                            <td>$856</td>
                                        </tr>
                                        <tr>
                                            <td>Campaign#5</td>
                                            <td>10,000 </td>
                                            <td>$1000</td>
                                        </tr>
                                        <tr>
                                            <td>Campaign#5</td>
                                            <td>10,000 </td>
                                            <td>$1000</td>
                                        </tr>
                                        <tr>
                                            <td colspan="3">
                                                <a href="#" class="btn btn-outline-light float-right">Details</a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- ============================================================== -->
                    <!-- end top perfomimg  -->
                    <!-- ============================================================== -->
                </div>
            </div>

            <div class="row">
                <!-- ============================================================== -->
                <!-- sales  -->
                <!-- ============================================================== -->
                <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12">
                    <div class="card border-3 border-top border-top-primary">
                        <div class="card-body">
                            <h5 class="text-muted">Sales</h5>
                            <div class="metric-value d-inline-block">
                                <h1 class="mb-1">$12099</h1>
                            </div>
                            <div class="metric-label d-inline-block float-right text-success font-weight-bold">
                                <span class="icon-circle-small icon-box-xs text-success bg-success-light">
                                    <i class="fa fa-fw fa-arrow-up"></i>
                                </span><span class="ml-1">5.86%</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end sales  -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- new customer  -->
                <!-- ============================================================== -->
                <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12">
                    <div class="card border-3 border-top border-top-primary">
                        <div class="card-body">
                            <h5 class="text-muted">New Customer</h5>
                            <div class="metric-value d-inline-block">
                                <h1 class="mb-1">1245</h1>
                            </div>
                            <div class="metric-label d-inline-block float-right text-success font-weight-bold">
                                <span class="icon-circle-small icon-box-xs text-success bg-success-light">
                                    <i class="fa fa-fw fa-arrow-up"></i>
                                </span><span class="ml-1">10%</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end new customer  -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- visitor  -->
                <!-- ============================================================== -->
                <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12">
                    <div class="card border-3 border-top border-top-primary">
                        <div class="card-body">
                            <h5 class="text-muted">Visitor</h5>
                            <div class="metric-value d-inline-block">
                                <h1 class="mb-1">13000</h1>
                            </div>
                            <div class="metric-label d-inline-block float-right text-success font-weight-bold">
                                <span class="icon-circle-small icon-box-xs text-success bg-success-light">
                                    <i class="fa fa-fw fa-arrow-up"></i>
                                </span><span class="ml-1">5%</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end visitor  -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- total orders  -->
                <!-- ============================================================== -->
                <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12">
                    <div class="card border-3 border-top border-top-primary">
                        <div class="card-body">
                            <h5 class="text-muted">Total Orders</h5>
                            <div class="metric-value d-inline-block">
                                <h1 class="mb-1">1340</h1>
                            </div>
                            <div class="metric-label d-inline-block float-right text-danger font-weight-bold">
                                <span class="icon-circle-small icon-box-xs text-danger bg-danger-light bg-danger-light ">
                                    <i class="fa fa-fw fa-arrow-down"></i>
                                </span><span class="ml-1">4%</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end total orders  -->
                <!-- ============================================================== -->
            </div>
            <div class="row">
                <!-- ============================================================== -->
                <!-- total revenue  -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- category revenue  -->
                <!-- ============================================================== -->
                <div class="col-xl-5 col-lg-5 col-md-12 col-sm-12 col-12">
                    <div class="card">
                        <h5 class="card-header">Revenue by Category</h5>
                        <div class="card-body">
                            <div id="c3chart_category" style="height: 420px;"></div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end category revenue  -->
                <!-- ============================================================== -->

                <div class="col-xl-7 col-lg-7 col-md-12 col-sm-12 col-12">
                    <div class="card">
                        <h5 class="card-header"> Total Revenue</h5>
                        <div class="card-body">
                            <div id="morris_totalrevenue"></div>
                        </div>
                        <div class="card-footer">
                            <p class="display-7 font-weight-bold">
                                <span class="text-primary d-inline-block">$26,000</span><span class="text-success float-right">+9.45%</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-5 col-lg-6 col-md-6 col-sm-12 col-12">
                    <!-- ============================================================== -->
                    <!-- social source  -->
                    <!-- ============================================================== -->
                    <div class="card">
                        <h5 class="card-header"> Sales By Social Source</h5>
                        <div class="card-body p-0">
                            <ul class="social-sales list-group list-group-flush">
                                <li class="list-group-item social-sales-content">
                                    <span class="social-sales-icon-circle facebook-bgcolor mr-2">
                                        <i class="fab fa-facebook-f"></i>
                                    </span><span class="social-sales-name">Facebook</span><span class="social-sales-count text-dark">120 Sales</span>
                                </li>
                                <li class="list-group-item social-sales-content">
                                    <span class="social-sales-icon-circle twitter-bgcolor mr-2">
                                        <i class="fab fa-twitter"></i>
                                    </span><span class="social-sales-name">Twitter</span><span class="social-sales-count text-dark">99 Sales</span>
                                </li>
                                <li class="list-group-item social-sales-content">
                                    <span class="social-sales-icon-circle instagram-bgcolor mr-2">
                                        <i class="fab fa-instagram"></i>
                                    </span><span class="social-sales-name">Instagram</span><span class="social-sales-count text-dark">76 Sales</span>
                                </li>
                                <li class="list-group-item social-sales-content">
                                    <span class="social-sales-icon-circle pinterest-bgcolor mr-2">
                                        <i class="fab fa-pinterest-p"></i>
                                    </span><span class="social-sales-name">Pinterest</span><span class="social-sales-count text-dark">56 Sales</span>
                                </li>
                                <li class="list-group-item social-sales-content">
                                    <span class="social-sales-icon-circle googleplus-bgcolor mr-2">
                                        <i class="fab fa-google-plus-g"></i>
                                    </span><span class="social-sales-name">Google Plus</span><span class="social-sales-count text-dark">36 Sales</span>
                                </li>
                            </ul>
                        </div>
                        <div class="card-footer text-center">
                            <a href="#" class="btn-primary-link">View Details</a>
                        </div>
                    </div>
                    <!-- ============================================================== -->
                    <!-- end social source  -->
                    <!-- ============================================================== -->
                </div>
                <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12">
                    <!-- ============================================================== -->
                    <!-- sales traffice source  -->
                    <!-- ============================================================== -->
                    <div class="card">
                        <h5 class="card-header"> Sales By Traffic Source</h5>
                        <div class="card-body p-0">
                            <ul class="traffic-sales list-group list-group-flush">
                                <li class="traffic-sales-content list-group-item ">
                                    <span class="traffic-sales-name">Direct</span><span class="traffic-sales-amount">
                                        $4000.00 <span class="icon-circle-small icon-box-xs text-success ml-4 bg-success-light">
                                            <i class="fa fa-fw fa-arrow-up"></i>
                                        </span><span class="ml-1 text-success">5.86%</span>
                                    </span>
                                </li>
                                <li class="traffic-sales-content list-group-item">
                                    <span class="traffic-sales-name">
                                        Search<span class="traffic-sales-amount">
                                            $3123.00 <span class="icon-circle-small icon-box-xs text-success ml-4 bg-success-light">
                                                <i class="fa fa-fw fa-arrow-up"></i>
                                            </span><span class="ml-1 text-success">5.86%</span>
                                        </span>
                                    </span>
                                </li>
                                <li class="traffic-sales-content list-group-item">
                                    <span class="traffic-sales-name">
                                        Social<span class="traffic-sales-amount ">
                                            $3099.00 <span class="icon-circle-small icon-box-xs text-success ml-4 bg-success-light">
                                                <i class="fa fa-fw fa-arrow-up"></i>
                                            </span><span class="ml-1 text-success">5.86%</span>
                                        </span>
                                    </span>
                                </li>
                                <li class="traffic-sales-content list-group-item">
                                    <span class="traffic-sales-name">
                                        Referrals<span class="traffic-sales-amount ">
                                            $2220.00 <span class="icon-circle-small icon-box-xs text-danger ml-4 bg-danger-light">
                                                <i class="fa fa-fw fa-arrow-down"></i>
                                            </span><span class="ml-1 text-danger">4.02%</span>
                                        </span>
                                    </span>
                                </li>
                                <li class="traffic-sales-content list-group-item ">
                                    <span class="traffic-sales-name">
                                        Email<span class="traffic-sales-amount">
                                            $1567.00 <span class="icon-circle-small icon-box-xs text-danger ml-4 bg-danger-light">
                                                <i class="fa fa-fw fa-arrow-down"></i>
                                            </span><span class="ml-1 text-danger">3.86%</span>
                                        </span>
                                    </span>
                                </li>
                            </ul>
                        </div>
                        <div class="card-footer text-center">
                            <a href="#" class="btn-primary-link">View Details</a>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end sales traffice source  -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- sales traffic country source  -->
                <!-- ============================================================== -->
                <div class="col-xl-3 col-lg-12 col-md-6 col-sm-12 col-12">
                    <div class="card">
                        <h5 class="card-header">Sales By Country Traffic Source</h5>
                        <div class="card-body p-0">
                            <ul class="country-sales list-group list-group-flush">
                                <li class="country-sales-content list-group-item">
                                    <span class="mr-2"><i class="flag-icon flag-icon-us" title="us" id="us"></i> </span>
                                    <span class="">United States</span><span class="float-right text-dark">78%</span>
                                </li>
                                <li class="list-group-item country-sales-content">
                                    <span class="mr-2">
                                        <i class="flag-icon flag-icon-ca" title="ca"
                                           id="ca"></i>
                                    </span><span class="">Canada</span><span class="float-right text-dark">7%</span>
                                </li>
                                <li class="list-group-item country-sales-content">
                                    <span class="mr-2">
                                        <i class="flag-icon flag-icon-ru" title="ru"
                                           id="ru"></i>
                                    </span><span class="">Russia</span><span class="float-right text-dark">4%</span>
                                </li>
                                <li class="list-group-item country-sales-content">
                                    <span class=" mr-2">
                                        <i class="flag-icon flag-icon-in" title="in"
                                           id="in"></i>
                                    </span><span class="">India</span><span class="float-right text-dark">12%</span>
                                </li>
                                <li class="list-group-item country-sales-content">
                                    <span class=" mr-2">
                                        <i class="flag-icon flag-icon-fr" title="fr"
                                           id="fr"></i>
                                    </span><span class="">France</span><span class="float-right text-dark">16%</span>
                                </li>
                            </ul>
                        </div>
                        <div class="card-footer text-center">
                            <a href="#" class="btn-primary-link">View Details</a>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end sales traffice country source  -->
                <!-- ============================================================== -->
            </div> *@
        </div>
    </div>

    <div class="footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    Copyright © 2018 Concept. All rights reserved. Dashboard by <a href="https://colorlib.com/wp/">Colorlib</a>.
                </div>
                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="text-md-right footer-links d-none d-sm-block">
                        <a href="javascript: void(0);">About</a>
                        <a href="javascript: void(0);">Support</a>
                        <a href="javascript: void(0);">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    @section Scripts {
        <script>
            $(document).ready(() => {
                const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

                const revenueCurrentYear = Array(12).fill(0);
                const revenuePreviousYear = Array(12).fill(0);

                const currentYearData = @Html.Raw(Json.Serialize(Model.MonthlyRevenueOfCurrentYear));
                const previousYearData = @Html.Raw(Json.Serialize(Model.MonthlyRevenueOfPreviousYear));

                currentYearData.forEach(item => {
                    const monthIndex = parseInt(item.month) - 1;
                    revenueCurrentYear[monthIndex] = item.amount;
                });

                previousYearData.forEach(item => {
                    const monthIndex = parseInt(item.month) - 1;
                    revenuePreviousYear[monthIndex] = item.amount;
                });


                const ctx = $('#revenue_system');
                const revenueChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: monthNames,
                        datasets: [
                            {
                                label: 'Current Year Revenue',
                                data: revenueCurrentYear,
                                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                                borderColor: 'rgba(54, 162, 235, 1)',
                                borderWidth: 2,
                                fill: true
                            },
                            {
                                label: 'Previous Year Revenue',
                                data: revenuePreviousYear,
                                backgroundColor: 'rgba(255, 64, 123, 0.2)',
                                borderColor: 'rgba(255, 64, 123, 1)',
                                borderWidth: 2,
                                fill: true
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });



            })

        </script>

    }


</body>

</html>